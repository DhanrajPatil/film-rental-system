"use strict";(self.webpackChunkfilm_rental_system=self.webpackChunkfilm_rental_system||[]).push([[421],{1421:(L,u,i)=>{i.r(u),i.d(u,{ActorsModule:()=>J});var p=i(6895),s=i(3060),t=i(4650);let F=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["frs-actor-list"]],decls:2,vars:0,template:function(r,n){1&r&&(t.TgZ(0,"p"),t._uU(1,"actor-list works!"),t.qZA())},styles:[""]}),o})();var c=i(4006),C=i(2340),f=i(529);let b=(()=>{class o{constructor(r){this.http=r,this.actorUrl=C.N.actorUrl}getActors(){return this.http.get(this.actorUrl)}addActor(r){return this.http.post(this.actorUrl,r)}getActor(r){return this.http.get(`${this.actorUrl}/${r}`)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(f.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var x=i(7009),h=i(3546),A=i(782),g=i(9549),Z=i(4144),N=i(4859);function w(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"button",12),t.NdJ("click",function(){return t.CHM(r),t.oxw().addActor()}),t._uU(1),t.qZA()}if(2&o){const r=t.oxw();t.Q6J("disabled",r.actorForm.invalid),t.xp6(1),t.hij(" ",r.actionButtonLabel," ")}}function I(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(r),t.oxw().resetForm()}),t._uU(1," Clear "),t.qZA()}}function T(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(r),t.oxw().editForm()}),t._uU(1," Edit "),t.qZA()}}function y(o,e){if(1&o){const r=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(){return t.CHM(r),t.oxw().createNew()}),t._uU(1," Create New "),t.qZA()}}let m=(()=>{class o{constructor(r,n,a,M,B){this.actorService=r,this.snackBar=n,this.formBuilder=a,this.router=M,this.route=B,this.actionHeader="Add Actor",this.actionButtonLabel="Save",this.isViewForm=!1,this.isEditForm=!1;let l=!1;this.route.snapshot.url.length>1&&(l="view"===this.route.snapshot.url[1].path,this.isEditForm="edit"===this.route.snapshot.url[1].path),this.isViewForm=l,this.actorForm=this.formBuilder.group({firstName:[{value:"",disabled:l},[c.kI.required,c.kI.minLength(2),c.kI.pattern(/[\S]/)]],lastName:[{value:"",disabled:l},[c.kI.required,c.kI.minLength(2),c.kI.pattern(/[\S]/)]]});const d=this.route.snapshot.paramMap.get("id");d&&(this.actorId=+d,this.actionHeader=l?"Actor Details:":"Edit Actor",this.actionButtonLabel="Update",this.actorService.getActor(Number(d)).subscribe({next:v=>{this.actorForm.patchValue(v)},error:v=>{this.snackBar.open("Actor not found","Close")}}))}ngOnInit(){}addActor(){this.actorService.addActor(this.actorForm.value).subscribe({next:n=>{this.actorId=n.id,this.navigateToView(),this.snackBar.open("Actor created","Close")},error:n=>{this.snackBar.open("Actor creation failed!","Close")}})}resetForm(){this.actorForm.reset()}navigateToView(){this.router.navigate(["actors",this.actorId,"view"])}editForm(){this.router.navigate(["actors",this.actorId,"edit"])}createNew(){this.router.navigate(["actors","add"])}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(b),t.Y36(x.ux),t.Y36(c.qu),t.Y36(s.F0),t.Y36(s.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["frs-add-actor"]],decls:26,vars:6,consts:[[1,"container"],[1,"text-xl","font-bold","mb-4"],[3,"formGroup"],["actorFormDirective","ngForm"],["cols","4","rowHeight","75","gutterSize","5px"],["colspan","2","rowspan","1"],[1,"frs-w-full"],["matInput","","placeholder","First Name","formControlName","firstName"],["matInput","","placeholder","Last Name","formControlName","lastName"],[1,"frs-actions"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","",3,"click"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-content")(3,"h2",1),t._uU(4),t.qZA(),t.TgZ(5,"form",2,3)(7,"mat-grid-list",4)(8,"mat-grid-tile",5)(9,"mat-form-field",6)(10,"mat-label"),t._uU(11,"First Name"),t.qZA(),t._UZ(12,"input",7),t.qZA()(),t._UZ(13,"mat-grid-tile",5),t.TgZ(14,"mat-grid-tile",5)(15,"mat-form-field",6)(16,"mat-label"),t._uU(17,"Last Name"),t.qZA(),t._UZ(18,"input",8),t.qZA()(),t._UZ(19,"mat-grid-tile",5),t.TgZ(20,"mat-grid-tile",5)(21,"div",9),t.YNc(22,w,2,2,"button",10),t.YNc(23,I,2,0,"button",11),t.YNc(24,T,2,0,"button",11),t.YNc(25,y,2,0,"button",11),t.qZA()()()()()()()),2&r&&(t.xp6(4),t.Oqu(n.actionHeader),t.xp6(1),t.Q6J("formGroup",n.actorForm),t.xp6(17),t.Q6J("ngIf",!n.isViewForm),t.xp6(1),t.Q6J("ngIf",!n.isViewForm),t.xp6(1),t.Q6J("ngIf",n.isViewForm),t.xp6(1),t.Q6J("ngIf",n.isViewForm||n.isEditForm))},directives:[h.a8,h.dn,c._Y,c.JL,c.sg,A.Il,A.DX,g.KE,g.hX,Z.Nt,c.Fj,c.JJ,c.u,p.O5,N.lW],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.frs-w-full[_ngcontent-%COMP%]{width:100%}.frs-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;width:100%}"]}),o})();const U=[{path:"",component:F},{path:"add",component:m},{path:":id/edit",component:m},{path:":id/view",component:m},{path:":id/films",component:(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["frs-actor-films"]],decls:2,vars:0,template:function(r,n){1&r&&(t.TgZ(0,"p"),t._uU(1,"actor-films works!"),t.qZA())},styles:[""]}),o})()}];let _=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[s.Bz.forChild(U)],s.Bz]}),o})();var k=i(3686);let J=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[p.ez,_,s.Bz,c.UX,c.u5,f.JF,k.q]]}),o})()}}]);