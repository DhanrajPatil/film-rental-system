"use strict";(self.webpackChunkfilm_rental_system=self.webpackChunkfilm_rental_system||[]).push([[745],{2745:(X,d,m)=>{m.r(d),m.d(d,{CustomersModule:()=>W});var u=m(6895),c=m(3060),t=m(4650),p=m(3546),i=m(4006),g=m(9549),h=m(4144),C=m(4859);let _=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["frs-add-customer"]],decls:16,vars:0,consts:[[1,"container"],[1,"full-width"],["matInput",""],["mat-raised-button","","color","primary"]],template:function(n,s){1&n&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-title"),t._uU(3,"Add Customer"),t.qZA(),t.TgZ(4,"mat-card-content")(5,"form")(6,"mat-form-field",1)(7,"mat-label"),t._uU(8,"Name"),t.qZA(),t._UZ(9,"input",2),t.qZA(),t.TgZ(10,"mat-form-field",1)(11,"mat-label"),t._uU(12,"Email"),t.qZA(),t._UZ(13,"input",2),t.qZA(),t.TgZ(14,"button",3),t._uU(15,"Add Customer"),t.qZA()()()()())},directives:[p.a8,p.n5,p.dn,i._Y,i.JL,i.F,g.KE,g.hX,h.Nt,C.lW],styles:[""]}),e})();var Z=m(8306),T=m(4004),v=m(262),A=m(9646),y=m(2340),f=m(529);let N=(()=>{class e{constructor(n){this.http=n,this.baseUrl=y.N.customerUrl}getCustomers(n,s,r="firstName,asc"){return this.http.get(`${this.baseUrl}?page=${n}&size=${s}&sort=${r}`)}addCustomer(n){return this.http.post(`${this.baseUrl}`,n)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(f.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var x=m(455),O=m(1572),a=m(7155),L=m(7974);function U(e,o){1&e&&(t.TgZ(0,"div"),t._UZ(1,"mat-spinner"),t.qZA())}function S(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Id"),t.qZA())}function I(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.id)}}function M(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"First Name"),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.firstName)}}function z(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Last Name"),t.qZA())}function D(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.lastName)}}function $(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Email"),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.email)}}function Q(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"City"),t.qZA())}function B(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.city)}}function P(e,o){1&e&&(t.TgZ(0,"th",18),t._uU(1,"Store Id"),t.qZA())}function R(e,o){if(1&e&&(t.TgZ(0,"td",19),t._uU(1),t.qZA()),2&e){const n=o.$implicit;t.xp6(1),t.Oqu(null==n?null:n.storeId)}}function q(e,o){1&e&&t._UZ(0,"tr",20)}function E(e,o){1&e&&t._UZ(0,"tr",21)}function F(e,o){if(1&e&&(t.TgZ(0,"table",7),t.ynx(1,8),t.YNc(2,S,2,0,"th",9),t.YNc(3,I,2,1,"td",10),t.BQk(),t.ynx(4,11),t.YNc(5,M,2,0,"th",9),t.YNc(6,Y,2,1,"td",10),t.BQk(),t.ynx(7,12),t.YNc(8,z,2,0,"th",9),t.YNc(9,D,2,1,"td",10),t.BQk(),t.ynx(10,13),t.YNc(11,$,2,0,"th",9),t.YNc(12,J,2,1,"td",10),t.BQk(),t.ynx(13,14),t.YNc(14,Q,2,0,"th",9),t.YNc(15,B,2,1,"td",10),t.BQk(),t.ynx(16,15),t.YNc(17,P,2,0,"th",9),t.YNc(18,R,2,1,"td",10),t.BQk(),t.YNc(19,q,1,0,"tr",16),t.YNc(20,E,1,0,"tr",17),t.qZA()),2&e){const n=t.oxw();t.Q6J("dataSource",n.customers$),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",n.isSticky()),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns)}}const b=[{path:"",component:(()=>{class e{constructor(n){this.customerApi=n,this.customers$=new Z.y,this.totalNumberOfCustomers=1e3,this.pageSizeOptions=[5,10,15,45,100,300,1e3],this.pageIndex=0,this.pageSize=45,this.isChecked=!0,this.displayedColumns=["id","firstName","lastName","email","city","storeId"]}ngOnInit(){this.handlePageEvent({pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.totalNumberOfCustomers})}handlePageEvent(n={pageIndex:0,pageSize:15,length:1e3}){this.customers$=this.customerApi.getCustomers(n.pageIndex,n.pageSize).pipe((0,T.U)(s=>(this.totalNumberOfCustomers=s.totalItems,s.items)),(0,v.K)(s=>(console.error("Error loading customers",s),(0,A.of)([]))))}isSticky(){return this.isChecked}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(N))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-customer-list"]],decls:11,vars:9,consts:[[1,"container"],["mat-raised-button","","color","primary","routerLink","./add",1,"frs-mb-10","frs-mr-15"],[3,"ngModel","ngModelChange"],[4,"ngIf","ngIfElse"],["tableContent",""],["aria-label","Select page",1,"demo-paginator","mat-paginator-sticky",3,"length","pageSize","pageIndex","pageSizeOptions","page"],["paginator",""],["mat-table","",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","city"],["matColumnDef","storeId"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,s){if(1&n&&(t.TgZ(0,"div",0)(1,"button",1),t._uU(2," Add Customer "),t.qZA(),t.TgZ(3,"mat-slide-toggle",2),t.NdJ("ngModelChange",function(l){return s.isChecked=l}),t._uU(4,"Sticky Header Table"),t.qZA(),t.YNc(5,U,2,0,"div",3),t.ALo(6,"async"),t.YNc(7,F,21,4,"ng-template",null,4,t.W1O),t.TgZ(9,"mat-paginator",5,6),t.NdJ("page",function(l){return s.handlePageEvent(l)}),t.qZA()()),2&n){const r=t.MAs(8);t.xp6(3),t.Q6J("ngModel",s.isChecked),t.xp6(2),t.Q6J("ngIf",!t.lcZ(6,7,s.customers$))("ngIfElse",r),t.xp6(4),t.Q6J("length",s.totalNumberOfCustomers)("pageSize",s.pageSize)("pageIndex",s.pageIndex)("pageSizeOptions",s.pageSizeOptions)}},directives:[C.lW,c.rH,x.Rr,i.JJ,i.On,u.O5,O.Ou,a.BZ,a.w1,a.fO,a.ge,a.Dz,a.ev,a.as,a.XQ,a.nj,a.Gk,L.NW],pipes:[u.Ov],styles:[".frs-mb-10[_ngcontent-%COMP%]{margin-bottom:10px}.frs-mr-15[_ngcontent-%COMP%]{margin-right:15px}.mat-column-storeId[_ngcontent-%COMP%]{width:12%}.mat-column-city[_ngcontent-%COMP%]{width:15%}.mat-column-firstName[_ngcontent-%COMP%], .mat-column-lastName[_ngcontent-%COMP%]{width:16%}.mat-column-id[_ngcontent-%COMP%]{width:8%}.mat-column-email[_ngcontent-%COMP%]{width:35%}"],changeDetection:0}),e})()},{path:"add",component:_}];let w=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(b)],c.Bz]}),e})();var H=m(3686);let W=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[u.ez,w,H.q,f.JF,i.u5]]}),e})()}}]);